<html xmlns:ccdn="http://www.concordion.org/2007/concordion" xmlns:cp="http://www.agileinsider.org/concordion/plus">
<head>
    <link href="../concordion.css" rel="stylesheet" type="text/css"/>
</head>
<body>

<h1>Splitting Names</h1>

<p>
    To help personalise our mailshots we want to have the first
    and last name of the customer. Unfortunately the customer name
    that we are supplied with only contains full names.
</p>

<p>
    The system therefore attempts to break a supplied full name
    into its constituent parts.
</p>

<div class="scenario" cp:scenario="Single text example">
    <h3>Text based scenario</h3>

    <p>
        The full name <span ccdn:execute="#result=split(#TEXT)">John Smith</span>
        will be broken into first name <span ccdn:assertEquals="#result.firstName">John</span>
        and last name <span ccdn:assertEquals="#result.lastName">Smith</span>
    </p>
</div>

<div class="scenario" cp:scenario="Single text example that fails">
    <h3>Text based scenario that fails</h3>

    <p>
        The full name <span ccdn:execute="#result=split(#TEXT)">John Smith</span>
        will be broken into first name <span ccdn:assertEquals="#result.firstName">Jonny</span>
        and last name <span ccdn:assertEquals="#result.lastName">Boy</span>
    </p>
</div>

<div class="scenario" cp:scenario="Table based scenario">
    <h3>Table based examples</h3>

    <table ccdn:execute="#result=split(#fullName)">
        <tr>
            <th ccdn:set="#fullName">Full Name</th>
            <th ccdn:assertEquals="#result.firstName">First Name</th>
            <th ccdn:assertEquals="#result.lastName">Last Name</th>
        </tr>
        <tr>
            <td>John Smith</td>
            <td>John</td>
            <td>Smith</td>
        </tr>
        <tr>
            <td>David Peterson</td>
            <td>David</td>
            <td>Peterson</td>
        </tr>
    </table>
</div>

<div class="scenario" cp:ignore="This is still work in progress">
    <h3>Just ignore me!</h3>
    <p>This could really be any old junk at this point</p>
</div>

<div class="scenario" cp:scenario="Expected broken scenario">
    <h3>Ooops I did it again</h3>
    <p>The full name <span ccdn:execute="#result=splitTwiceAndWizz(#TEXT)">John Smith</span>
        can be converted into something unrealistic</p>
</div>

</body>
</html>

